{"ast":null,"code":"const reduce = (getChildren, shouldFlattenCallback = node => node.children.length) => (reducerFn, init, node) => {\n  const acc = reducerFn(init, node);\n\n  if (!shouldFlattenCallback) {\n    return acc;\n  }\n\n  return getChildren(node).reduce(reduce(reducerFn, null), acc);\n};\n\nexport default ((source, {\n  getChildren = node => node['children'],\n  shouldFlattenCallback\n}) => {\n  const flattened = reduce(getChildren, shouldFlattenCallback)(function () {\n    console.log(arguments);\n  }, [], {});\n  return {\n    flattened\n  };\n});","map":{"version":3,"sources":["/home/mitch/react-tree/src/hooks/useTree.ts"],"names":["reduce","getChildren","shouldFlattenCallback","node","children","length","reducerFn","init","acc","source","flattened","console","log","arguments"],"mappings":"AASA,MAAMA,MAAM,GAAG,CAACC,WAAD,EAAmBC,qBAA0B,GAAIC,IAAD,IAAUA,IAAI,CAACC,QAAL,CAAcC,MAAxE,KAAmF,CAACC,SAAD,EAAiBC,IAAjB,EAA4BJ,IAA5B,KAA0C;AAC1I,QAAMK,GAAG,GAAGF,SAAS,CAACC,IAAD,EAAOJ,IAAP,CAArB;;AACA,MAAI,CAACD,qBAAL,EAA4B;AAC1B,WAAOM,GAAP;AACD;;AACD,SAAOP,WAAW,CAACE,IAAD,CAAX,CAAkBH,MAAlB,CAAyBA,MAAM,CAACM,SAAD,EAAY,IAAZ,CAA/B,EAAkDE,GAAlD,CAAP;AACD,CAND;;AAQA,gBAAe,CACbC,MADa,EAEb;AACER,EAAAA,WAAW,GAAIE,IAAD,IAAUA,IAAI,CAAC,UAAD,CAD9B;AAEED,EAAAA;AAFF,CAFa,KAMA;AAEb,QAAMQ,SAAS,GAAGV,MAAM,CAACC,WAAD,EAAcC,qBAAd,CAAN,CAA2C,YAAW;AAACS,IAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AAAuB,GAA9E,EAAgF,EAAhF,EAAoF,EAApF,CAAlB;AAEA,SAAO;AAAEH,IAAAA;AAAF,GAAP;AACD,CAXD","sourcesContent":["interface TreeConfig {\n  getChildren?: (node: any) => any[];\n  shouldFlattenCallback?: (node: any) => boolean;\n}\n\ninterface TreeArgs {\n  flattened: any[];\n}\n\nconst reduce = (getChildren: any, shouldFlattenCallback: any = (node) => node.children.length) => (reducerFn: any, init: any, node: any) => {\n  const acc = reducerFn(init, node);\n  if (!shouldFlattenCallback) {\n    return acc;\n  }\n  return getChildren(node).reduce(reduce(reducerFn, null), acc);\n}\n\nexport default (\n  source: any,\n  {\n    getChildren = (node) => node['children'],\n    shouldFlattenCallback,\n  }: TreeConfig\n): TreeArgs => {\n\n  const flattened = reduce(getChildren, shouldFlattenCallback)(function() {console.log(arguments)}, [], {})\n  \n  return { flattened };\n};\n"]},"metadata":{},"sourceType":"module"}
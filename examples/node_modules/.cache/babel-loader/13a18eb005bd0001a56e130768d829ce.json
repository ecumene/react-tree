{"ast":null,"code":"const reduce = (getChildren, shouldFlattenCallback = node => node.children.length) => (accumulator, value) => {\n  accumulator.push(value);\n\n  if (shouldFlattenCallback(value)) {\n    accumulator = accumulator.concat(reduce(getChildren, shouldFlattenCallback)(value));\n  }\n\n  return accumulator;\n};\n\nexport default ((source, {\n  getChildren = node => node.children,\n  shouldFlattenCallback\n}) => {\n  const flattened = reduce(getChildren);\n  return {\n    flattened\n  };\n});","map":{"version":3,"sources":["/home/mitch/react-tree/src/hooks/useTree.ts"],"names":["reduce","getChildren","shouldFlattenCallback","node","children","length","accumulator","value","push","concat","source","flattened"],"mappings":"AASA,MAAMA,MAAM,GAAG,CACbC,WADa,EAEbC,qBAA0B,GAAIC,IAAD,IAAeA,IAAI,CAACC,QAAL,CAAcC,MAF7C,KAGV,CAACC,WAAD,EAAmBC,KAAnB,KAAkC;AACrCD,EAAAA,WAAW,CAACE,IAAZ,CAAiBD,KAAjB;;AACA,MAAIL,qBAAqB,CAACK,KAAD,CAAzB,EAAkC;AAChCD,IAAAA,WAAW,GAAGA,WAAW,CAACG,MAAZ,CACZT,MAAM,CAACC,WAAD,EAAcC,qBAAd,CAAN,CAA2CK,KAA3C,CADY,CAAd;AAGD;;AACD,SAAOD,WAAP;AACD,CAXD;;AAaA,gBAAe,CACbI,MADa,EAEb;AAAET,EAAAA,WAAW,GAAIE,IAAD,IAAUA,IAAI,CAACC,QAA/B;AAAyCF,EAAAA;AAAzC,CAFa,KAGA;AACb,QAAMS,SAAS,GAAGX,MAAM,CAACC,WAAD,CAAxB;AACA,SAAO;AAAEU,IAAAA;AAAF,GAAP;AACD,CAND","sourcesContent":["interface TreeConfig {\n  getChildren?: (node: any) => any[];\n  shouldFlattenCallback?: (node: any) => boolean;\n}\n\ninterface TreeArgs {\n  flattened: any[];\n}\n\nconst reduce = (\n  getChildren: any,\n  shouldFlattenCallback: any = (node: any) => node.children.length\n) => (accumulator: any, value: any) => {\n  accumulator.push(value);\n  if (shouldFlattenCallback(value)) {\n    accumulator = accumulator.concat(\n      reduce(getChildren, shouldFlattenCallback)(value)\n    );\n  }\n  return accumulator;\n};\n\nexport default (\n  source: any,\n  { getChildren = (node) => node.children, shouldFlattenCallback }: TreeConfig\n): TreeArgs => {\n  const flattened = reduce(getChildren);\n  return { flattened };\n};\n"]},"metadata":{},"sourceType":"module"}
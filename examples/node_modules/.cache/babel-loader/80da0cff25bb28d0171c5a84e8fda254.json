{"ast":null,"code":"const flat = (getChildren, callback) => (accumulator, currentValue) => {\n  const children = getChildren(currentValue);\n\n  if (!(callback && callback(currentValue))) {\n    return children.reduce(flat, accumulator);\n  }\n\n  accumulator.push(children);\n  return accumulator;\n};\n\nexport default ((source, {\n  getChildren = node => node['children'],\n  shouldFlattenCallback\n}) => {\n  const flattened = getChildren(source).reduce(flat(getChildren, shouldFlattenCallback), []);\n  return {\n    flattened\n  };\n});","map":{"version":3,"sources":["/home/mitch/react-tree/src/hooks/useTree.ts"],"names":["flat","getChildren","callback","accumulator","currentValue","children","reduce","push","source","node","shouldFlattenCallback","flattened"],"mappings":"AASA,MAAMA,IAAI,GAAG,CACXC,WADW,EAEXC,QAFW,KAGR,CAACC,WAAD,EAAqBC,YAArB,KAA2C;AAC9C,QAAMC,QAAQ,GAAGJ,WAAW,CAACG,YAAD,CAA5B;;AACA,MAAI,EAAEF,QAAQ,IAAIA,QAAQ,CAACE,YAAD,CAAtB,CAAJ,EAA2C;AACzC,WAAOC,QAAQ,CAACC,MAAT,CAAgBN,IAAhB,EAAsBG,WAAtB,CAAP;AACD;;AACDA,EAAAA,WAAW,CAACI,IAAZ,CAAiBF,QAAjB;AACA,SAAOF,WAAP;AACD,CAVD;;AAYA,gBAAe,CACbK,MADa,EAEb;AACEP,EAAAA,WAAW,GAAIQ,IAAD,IAAUA,IAAI,CAAC,UAAD,CAD9B;AAEEC,EAAAA;AAFF,CAFa,KAMA;AACb,QAAMC,SAAS,GAAGV,WAAW,CAACO,MAAD,CAAX,CAAoBF,MAApB,CAChBN,IAAI,CAACC,WAAD,EAAcS,qBAAd,CADY,EAEhB,EAFgB,CAAlB;AAIA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD,CAZD","sourcesContent":["interface TreeConfig {\n  getChildren?: (node: any) => [any];\n  shouldFlattenCallback?: (node: any) => boolean;\n}\n\ninterface TreeArgs {\n  flattened: [any];\n}\n\nconst flat = (\n  getChildren: (node: any) => [any],\n  callback?: (value: any) => boolean\n) => (accumulator: [any], currentValue: any) => {\n  const children = getChildren(currentValue);\n  if (!(callback && callback(currentValue))) {\n    return children.reduce(flat, accumulator);\n  }\n  accumulator.push(children);\n  return accumulator;\n};\n\nexport default (\n  source: any,\n  {\n    getChildren = (node) => node['children'],\n    shouldFlattenCallback,\n  }: TreeConfig\n): TreeArgs => {\n  const flattened = getChildren(source).reduce(\n    flat(getChildren, shouldFlattenCallback),\n    []\n  );\n  return { flattened };\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"export default ((source, {\n  getChildren = node => node.children,\n  shouldFlattenCallback: any\n}) => {\n  const reduce = (getChildren, node, shouldFlattenCallback = node => node.children.length) => {\n    return getChildren(node).reduce((accumulator, value) => {\n      accumulator.push(value);\n\n      if (shouldFlattenCallback(value)) {\n        accumulator = accumulator.concat(reduce(getChildren, value, shouldFlattenCallback));\n      }\n\n      return accumulator;\n    }, []);\n  };\n\n  const flattened = [source, ...reduce(getChildren, source)];\n  return {\n    flattened\n  };\n});","map":{"version":3,"sources":["/home/mitch/react-tree/src/hooks/useTree.ts"],"names":["source","getChildren","node","children","shouldFlattenCallback","any","reduce","length","accumulator","value","push","concat","flattened"],"mappings":"AASA,gBAAe,CACbA,MADa,EAEb;AACEC,EAAAA,WAAW,GAAIC,IAAD,IAAUA,IAAI,CAACC,QAD/B;AAEEC,EAAAA,qBAAqB,EAAEC;AAFzB,CAFa,KAMA;AACb,QAAMC,MAAM,GAAG,CACbL,WADa,EAEbC,IAFa,EAGbE,qBAA0B,GAAIF,IAAD,IAAeA,IAAI,CAACC,QAAL,CAAcI,MAH7C,KAIV;AACH,WAAON,WAAW,CAACC,IAAD,CAAX,CAAkBI,MAAlB,CAAyB,CAACE,WAAD,EAAmBC,KAAnB,KAAyC;AACvED,MAAAA,WAAW,CAACE,IAAZ,CAAiBD,KAAjB;;AACA,UAAIL,qBAAqB,CAACK,KAAD,CAAzB,EAAkC;AAChCD,QAAAA,WAAW,GAAGA,WAAW,CAACG,MAAZ,CACZL,MAAM,CAACL,WAAD,EAAcQ,KAAd,EAAqBL,qBAArB,CADM,CAAd;AAGD;;AACD,aAAOI,WAAP;AACD,KARM,EAQJ,EARI,CAAP;AASD,GAdD;;AAeA,QAAMI,SAAS,GAAG,CAACZ,MAAD,EAAS,GAAGM,MAAM,CAACL,WAAD,EAAcD,MAAd,CAAlB,CAAlB;AACA,SAAO;AAAEY,IAAAA;AAAF,GAAP;AACD,CAxBD","sourcesContent":["interface TreeConfig {\n  getChildren?: (node: any) => any[];\n  shouldFlattenCallback?: (node: any) => boolean;\n}\n\ninterface TreeArgs {\n  flattened: any[];\n}\n\nexport default (\n  source: any,\n  {\n    getChildren = (node) => node.children,\n    shouldFlattenCallback: any,\n  }: TreeConfig\n): TreeArgs => {\n  const reduce = (\n    getChildren: any,\n    node: any,\n    shouldFlattenCallback: any = (node: any) => node.children.length\n  ) => {\n    return getChildren(node).reduce((accumulator: any, value: any): any[] => {\n      accumulator.push(value);\n      if (shouldFlattenCallback(value)) {\n        accumulator = accumulator.concat(\n          reduce(getChildren, value, shouldFlattenCallback)\n        );\n      }\n      return accumulator;\n    }, []);\n  };\n  const flattened = [source, ...reduce(getChildren, source)];\n  return { flattened };\n};\n"]},"metadata":{},"sourceType":"module"}
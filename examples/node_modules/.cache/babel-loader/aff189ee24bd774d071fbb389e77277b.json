{"ast":null,"code":"const flat = callback => (accumulator, currentValue) => {\n  if (Array.isArray(currentValue) && !(callback && callback(currentValue))) {\n    return currentValue.reduce(flat, accumulator);\n  }\n\n  accumulator.push(currentValue);\n  return accumulator;\n};\n\nexport default ((source, {\n  getChildren = node => node['children'],\n  shouldFlattenCallback\n}) => {\n  const flattened = getChildren(source).reduce(flat(shouldFlattenCallback), []);\n  return {\n    flattened\n  };\n});","map":{"version":3,"sources":["/home/mitch/react-tree/src/hooks/useTree.ts"],"names":["flat","callback","accumulator","currentValue","Array","isArray","reduce","push","source","getChildren","node","shouldFlattenCallback","flattened"],"mappings":"AASA,MAAMA,IAAI,GAAIC,QAAD,IAAuC,CAClDC,WADkD,EAElDC,YAFkD,KAG/C;AACH,MAAIC,KAAK,CAACC,OAAN,CAAcF,YAAd,KAA+B,EAAEF,QAAQ,IAAIA,QAAQ,CAACE,YAAD,CAAtB,CAAnC,EAA0E;AACxE,WAAOA,YAAY,CAACG,MAAb,CAAoBN,IAApB,EAA0BE,WAA1B,CAAP;AACD;;AACDA,EAAAA,WAAW,CAACK,IAAZ,CAAiBJ,YAAjB;AACA,SAAOD,WAAP;AACD,CATD;;AAWA,gBAAe,CACbM,MADa,EAEb;AACEC,EAAAA,WAAW,GAAIC,IAAD,IAAUA,IAAI,CAAC,UAAD,CAD9B;AAEEC,EAAAA;AAFF,CAFa,KAMA;AACb,QAAMC,SAAS,GAAGH,WAAW,CAACD,MAAD,CAAX,CAAoBF,MAApB,CAA2BN,IAAI,CAACW,qBAAD,CAA/B,EAAwD,EAAxD,CAAlB;AACA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD,CATD","sourcesContent":["interface TreeConfig {\n  getChildren?: (node: any) => [any];\n  shouldFlattenCallback?: (node: any) => boolean;\n}\n\ninterface TreeArgs {\n  flattened: [any];\n}\n\nconst flat = (callback: (value: any) => boolean) => (\n  accumulator: [any],\n  currentValue: any\n) => {\n  if (Array.isArray(currentValue) && !(callback && callback(currentValue))) {\n    return currentValue.reduce(flat, accumulator);\n  }\n  accumulator.push(currentValue);\n  return accumulator;\n};\n\nexport default (\n  source: any,\n  {\n    getChildren = (node) => node['children'],\n    shouldFlattenCallback,\n  }: TreeConfig\n): TreeArgs => {\n  const flattened = getChildren(source).reduce(flat(shouldFlattenCallback), []);\n  return { flattened };\n};\n"]},"metadata":{},"sourceType":"module"}
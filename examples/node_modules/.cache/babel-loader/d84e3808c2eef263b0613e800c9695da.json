{"ast":null,"code":"const reduce = (getChildren, shouldFlattenCallback = node => node.children.length) => (reducerFn, init, node) => {\n  const acc = reducerFn(init, node);\n\n  if (!shouldFlattenCallback) {\n    return acc;\n  }\n\n  return getChildren(node).reduce(reduce(reducerFn, null), acc);\n};\n\nexport default ((source, {\n  getChildren = node => node.children,\n  shouldFlattenCallback\n}) => {\n  const flattened = reduce(getChildren, shouldFlattenCallback)(function () {\n    console.log(arguments);\n  }, source, {});\n  return {\n    flattened\n  };\n});","map":{"version":3,"sources":["/home/mitch/react-tree/src/hooks/useTree.ts"],"names":["reduce","getChildren","shouldFlattenCallback","node","children","length","reducerFn","init","acc","source","flattened","console","log","arguments"],"mappings":"AASA,MAAMA,MAAM,GAAG,CACbC,WADa,EAEbC,qBAA0B,GAAIC,IAAD,IAAeA,IAAI,CAACC,QAAL,CAAcC,MAF7C,KAGV,CAACC,SAAD,EAAiBC,IAAjB,EAA4BJ,IAA5B,KAA0C;AAC7C,QAAMK,GAAG,GAAGF,SAAS,CAACC,IAAD,EAAOJ,IAAP,CAArB;;AACA,MAAI,CAACD,qBAAL,EAA4B;AAC1B,WAAOM,GAAP;AACD;;AACD,SAAOP,WAAW,CAACE,IAAD,CAAX,CAAkBH,MAAlB,CAAyBA,MAAM,CAACM,SAAD,EAAY,IAAZ,CAA/B,EAAkDE,GAAlD,CAAP;AACD,CATD;;AAWA,gBAAe,CACbC,MADa,EAEb;AACER,EAAAA,WAAW,GAAIE,IAAD,IAAUA,IAAI,CAACC,QAD/B;AAEEF,EAAAA;AAFF,CAFa,KAMA;AACb,QAAMQ,SAAS,GAAGV,MAAM,CAACC,WAAD,EAAcC,qBAAd,CAAN,CAChB,YAAY;AACVS,IAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AACD,GAHe,EAIhBJ,MAJgB,EAKhB,EALgB,CAAlB;AAQA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD,CAhBD","sourcesContent":["interface TreeConfig {\n  getChildren?: (node: any) => any[];\n  shouldFlattenCallback?: (node: any) => boolean;\n}\n\ninterface TreeArgs {\n  flattened: any[];\n}\n\nconst reduce = (\n  getChildren: any,\n  shouldFlattenCallback: any = (node: any) => node.children.length\n) => (reducerFn: any, init: any, node: any) => {\n  const acc = reducerFn(init, node);\n  if (!shouldFlattenCallback) {\n    return acc;\n  }\n  return getChildren(node).reduce(reduce(reducerFn, null), acc);\n};\n\nexport default (\n  source: any,\n  {\n    getChildren = (node) => node.children,\n    shouldFlattenCallback,\n  }: TreeConfig\n): TreeArgs => {\n  const flattened = reduce(getChildren, shouldFlattenCallback)(\n    function () {\n      console.log(arguments);\n    },\n    source,\n    {}\n  );\n\n  return { flattened };\n};\n"]},"metadata":{},"sourceType":"module"}
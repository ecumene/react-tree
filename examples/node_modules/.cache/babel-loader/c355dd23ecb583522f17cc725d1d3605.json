{"ast":null,"code":"const flat = (getChildren, callback) => (accumulator, currentValue) => {\n  if (Array.isArray(currentValue) && !(callback && callback(currentValue))) {\n    return currentValue.reduce(flat, accumulator);\n  }\n\n  accumulator.push(currentValue);\n  return accumulator;\n};\n\nexport default ((source, {\n  getChildren = node => node['children'],\n  shouldFlattenCallback\n}) => {\n  const flattened = getChildren(source).reduce(flat(getChildren, shouldFlattenCallback), []);\n  return {\n    flattened\n  };\n});","map":{"version":3,"sources":["/home/mitch/react-tree/src/hooks/useTree.ts"],"names":["flat","getChildren","callback","accumulator","currentValue","Array","isArray","reduce","push","source","node","shouldFlattenCallback","flattened"],"mappings":"AASA,MAAMA,IAAI,GAAG,CAACC,WAAD,EAAoCC,QAApC,KAA2E,CACtFC,WADsF,EAEtFC,YAFsF,KAGnF;AACH,MAAIC,KAAK,CAACC,OAAN,CAAcF,YAAd,KAA+B,EAAEF,QAAQ,IAAIA,QAAQ,CAACE,YAAD,CAAtB,CAAnC,EAA0E;AACxE,WAAOA,YAAY,CAACG,MAAb,CAAoBP,IAApB,EAA0BG,WAA1B,CAAP;AACD;;AACDA,EAAAA,WAAW,CAACK,IAAZ,CAAiBJ,YAAjB;AACA,SAAOD,WAAP;AACD,CATD;;AAWA,gBAAe,CACbM,MADa,EAEb;AACER,EAAAA,WAAW,GAAIS,IAAD,IAAUA,IAAI,CAAC,UAAD,CAD9B;AAEEC,EAAAA;AAFF,CAFa,KAMA;AACb,QAAMC,SAAS,GAAGX,WAAW,CAACQ,MAAD,CAAX,CAAoBF,MAApB,CAA2BP,IAAI,CAACC,WAAD,EAAcU,qBAAd,CAA/B,EAAqE,EAArE,CAAlB;AACA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD,CATD","sourcesContent":["interface TreeConfig {\n  getChildren?: (node: any) => [any];\n  shouldFlattenCallback?: (node: any) => boolean;\n}\n\ninterface TreeArgs {\n  flattened: [any];\n}\n\nconst flat = (getChildren: (node: any) => [any], callback?: (value: any) => boolean) => (\n  accumulator: [any],\n  currentValue: any\n) => {\n  if (Array.isArray(currentValue) && !(callback && callback(currentValue))) {\n    return currentValue.reduce(flat, accumulator);\n  }\n  accumulator.push(currentValue);\n  return accumulator;\n};\n\nexport default (\n  source: any,\n  {\n    getChildren = (node) => node['children'],\n    shouldFlattenCallback,\n  }: TreeConfig\n): TreeArgs => {\n  const flattened = getChildren(source).reduce(flat(getChildren, shouldFlattenCallback), []);\n  return { flattened };\n};\n"]},"metadata":{},"sourceType":"module"}